create table HOGAR (
	id_hogar int,
  	numero_hogar int,
  	dominio varchar(50),
  	comuna varchar(50),
  	primary key (id_hogar),
  	unique (numero_hogar)
);

CREATE TABLE subhogar (
  id_hogar int,
  numero_hogar int,
  PRIMARY KEY (id_hogar),
  CONSTRAINT id_hogar_fk FOREIGN KEY (id_hogar) REFERENCES HOGAR(id_hogar),
  constraint numero_hogar_fk foreign KEY (numero_hogar) REFERENCES HOGAR(numero_hogar)
);

create table direccion (
	id_direccion int,
  	nombredominio varchar,
  	nombrecomuna varchar,
  	primary key (id_direccion)
);

create table reside (
	id_reside int,
  	id_miembro int,
  	id_hogar int,
  	id_direccion int,
  	primary key (id_reside),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro),
  	constraint id_hogar_fk foreign key (id_hogar) references HOGAR(id_hogar),
  	constraint id_direccion_fk foreign key (id_direccion) references direccion(id_direccion)
);

create table miembro (
	id_miembro int,
  	numero_hogar int,
  	sexo varchar,
  	edad int,
  	tiene_padre int,
  	tiene_madre int,
  	parentesco varchar,
  	situacion_sentimental varchar,
  	primary key (id_miembro)
);

create table parentesco (
	id_parentesco int,
  	parentesco varchar,
  	primary key (id_parentesco)
);

create table familiar (
	id_familiar int,
  	id_miembro int,
  	id_parentesco int,
  	sexo VARCHAR,
  	primary key (id_familiar),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro),
  	constraint id_parentesco_fk foreign key (id_parentesco) references parentesco(id_parentesco)
);

create table TIPOINGRESOS (
	id_miembro int,
  	estado_ocupacional varchar,
  	calidad_ing_nolab varchar,
  	aporte_ingresos_familiares float,
  	calidad_ocupacional varchar,
  	calidad_ing_ocupacional varchar,
  	ing_tot_nolaboral float,
  	ing_tot_laboral float,
  	ing_familiares float,
  	primary key (id_miembro)
);

create table ingresos (
	id_ingreso int,
  	id_miembro int,
  	tipo_ingreso varchar,
  	cantidad float,
  	calidad float,
  	primary key (id_ingreso),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);

create table educacion (
	id_miembro int,
  	años_escolaridad int,
  	nivel_max_academico varchar,
  	nivel_actual varchar,
  	sector_educativo varchar,
  	estado_educativo varchar,
  	primary key (id_miembro),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);


create table escolaridad (
	id_miembro int,
  	años_escolaridad int,
  	primary key (id_miembro),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);


create table trayectoria (
	id_trayectoria int,
  	id_miembro int,
  	nivel_actual varchar,
  	sector_educativo varchar, 
  	estado_educativo varchar,
  	PRIMARY Key (id_trayectoria),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);

create table salud (
	id_miembro int,
  	lugar_nacimiento varchar,
  	afiliacion_salud varchar,
  	cantidad_hijos_nacidos_vivos int,
  	hijos_nacidos varchar,
  	primary key (id_miembro),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);

create table miembrosalud (
	id_miembro int,
  	lugar_nacimiento varchar,
  	afiliacion_salud varchar,
  	primary key (id_miembro),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);

create table hijos (
	id_hijo int,
  	id_miembro int,
  	vivo varchar,
  	primary key (id_hijo),
  	constraint id_miembro_fk foreign key (id_miembro) references miembro(id_miembro)
);